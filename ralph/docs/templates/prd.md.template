---
title: Product Requirements Document
version: 1.0
---

# Product Requirements Document: {{PROJECT_NAME}}

## Project Overview

{{PROJECT_OVERVIEW}}

---

## Functional Requirements

<!-- PARSER REQUIREMENT: Use exactly "#### Feature N:" format -->
<!-- PARSER REQUIREMENT: No compound sub-features (e.g., "##### 2.1 + 2.2") — one heading per story -->
<!-- PARSER REQUIREMENT: Flatten AC items — no indented sub-items under a checkbox -->
<!--   BAD:  - [ ] Module with:\n         - helper_a()\n         - helper_b()     -->
<!--   GOOD: - [ ] Module created\n       - [ ] helper_a()\n       - [ ] helper_b() -->
<!-- PARSER REQUIREMENT: Each sub-feature MUST have its own **Files**: section -->
<!--   Parser uses re.search (first match) — without sub-feature Files, it finds  -->
<!--   the parent's (wrong scope) or nothing (empty array)                         -->
<!-- PARSER LIMITATION: Sub-feature descriptions are NOT extracted — parser always  -->
<!--   uses the parent #### feature description. Fix manually in prd.json if needed -->

#### Feature 1: {{FEATURE_NAME}}

**Description**: {{FEATURE_DESCRIPTION}}

**Acceptance Criteria**:
- [ ] {{CRITERION_1}}
- [ ] {{CRITERION_2}}

**Technical Requirements**:
- {{TECH_REQ_1}}
- {{TECH_REQ_2}}

**Files**:
- `{{FILE_PATH_1}}`
- `{{FILE_PATH_2}}`

---

#### Feature 2: {{FEATURE_NAME}}

**Description**: {{FEATURE_DESCRIPTION}}

<!-- For complex features, use sub-features with ##### N.N format -->
##### 2.1 {{SUB_FEATURE_NAME}}

**Acceptance Criteria**:
- [ ] {{SUB_CRITERION_1}}

<!-- REQUIRED: Each sub-feature needs its own Files section -->
**Files**:
- `{{SUB_FILE_PATH}}`

---

## Non-Functional Requirements

{{NON_FUNCTIONAL_REQUIREMENTS}}

## Out of Scope

{{OUT_OF_SCOPE}}

---

## Notes for Ralph Loop

<!-- PARSER REQUIREMENT: Include story count in parentheses -->
<!-- PARSER REQUIREMENT: Use (depends: STORY-XXX, STORY-YYY) for dependencies -->
<!-- PARSER: [file: ...] annotations are ignored — parser extracts STORY-\d+ IDs only -->
Story Breakdown - Phase 1 ({{STORY_COUNT}} stories total):

- **Feature 1** → STORY-001: {{STORY_TITLE}}
  {{SELF_CONTAINED_DESCRIPTION}}. Files: `{{FILE_1}}`, `{{FILE_2}}`.

- **Feature 2** → STORY-002: {{STORY_TITLE}} (depends: STORY-001)
  {{SELF_CONTAINED_DESCRIPTION}}. Files: `{{FILE_3}}`.

- **Feature 2** → STORY-003: {{STORY_TITLE}} (depends: STORY-002, STORY-001 [file: {{SHARED_FILE}}])
  {{SELF_CONTAINED_DESCRIPTION}}. Files: `{{SHARED_FILE}}`, `{{FILE_4}}`.

<!-- OPTIONAL: Include if using CC Agent Teams for parallel execution -->
<!-- Delete this section if using Ralph sequential mode only -->

### Notes for CC Agent Teams

#### File-Conflict Dependencies

<!-- Stories sharing files need blockedBy deps beyond logical depends_on -->

| Story | Logical Dep | + File-Conflict Dep | Shared File |
|---|---|---|---|
| STORY-003 | STORY-002 | + STORY-001 | `{{SHARED_FILE}}` |

#### Orchestration Waves

```text
Wave 1 (independent): STORY-001, ...
Wave 2 (after ...):   STORY-002, ...
```
